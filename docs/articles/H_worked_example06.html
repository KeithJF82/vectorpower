<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Worked Example 6 - Power Calculations â€¢ vectorpower</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Worked Example 6 - Power Calculations">
<meta property="og:description" content="vectorpower">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vectorpower</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/A_package_intro.html">Package introduction</a>
    </li>
    <li>
      <a href="../articles/B_installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/C_worked_example01.html">Worked Example 1 - Data Creation</a>
    </li>
    <li>
      <a href="../articles/D_worked_example02.html">Worked Example 2 - Main Population Calculations</a>
    </li>
    <li>
      <a href="../articles/E_worked_example03.html">Worked Example 3 - Cohort Setup</a>
    </li>
    <li>
      <a href="../articles/F_worked_example04.html">Worked Example 4 - Cohort Simulation</a>
    </li>
    <li>
      <a href="../articles/G_worked_example05.html">Worked Example 5 - Combined Trial Modelling</a>
    </li>
    <li>
      <a href="../articles/H_worked_example06.html">Worked Example 6 - Power Calculations</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><link href="H_worked_example06_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="H_worked_example06_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Worked Example 6 - Power Calculations</h1>
            
      
      
      <div class="hidden name"><code>H_worked_example06.Rmd</code></div>

    </div>

    
    
<p>This is an example of how to take previously created main population data and and calculate the statistical power of a hypothetical field trial where the control and intervention clusters are drawn from said data.</p>
<p>First load the package (install it first if necessary as shown in the <a href="https://keithjf82.github.io/vectorpower/articles/B_installation.html">Installation article</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">vectorpower</span><span class="op">)</span></code></pre></div>
<p>In this example, the main population data set is loaded from an RDS file created by saving the results of running the mainpop() function (see <a href="https://keithjf82.github.io/vectorpower/articles/D_worked_example02.html">Worked Example 2</a>).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load main population data</span>
<span class="va">mainpop_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span><span class="op">(</span>file<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html">url</a></span><span class="op">(</span><span class="st">"https://github.com/KeithJF82/vectorpower/raw/master/inst/extdata/DemoFolder1/mainpop_data.Rds"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>The mainpop_data list contains the parameters used to calculate the main population data, including year-round benchmark values like the annual EIR, as shown below. These can be used to generate the trial cluster population parameters, as described in <a href="https://keithjf82.github.io/vectorpower/articles/E_worked_example03.html">Worked Example 3</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_view1</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>n<span class="op">=</span><span class="va">mainpop_data</span><span class="op">$</span><span class="va">annual_data</span><span class="op">$</span><span class="va">n_mv</span>,EIR_annual<span class="op">=</span><span class="va">mainpop_data</span><span class="op">$</span><span class="va">annual_data</span><span class="op">$</span><span class="va">EIRy</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">data_view1</span><span class="op">$</span><span class="va">n</span>,y<span class="op">=</span><span class="va">data_view1</span><span class="op">$</span><span class="va">EIR_annual</span>,type<span class="op">=</span><span class="st">"p"</span>,pch<span class="op">=</span><span class="fl">1</span>,xlab<span class="op">=</span><span class="st">"Dataset"</span>,ylab<span class="op">=</span><span class="st">"Annual EIR"</span><span class="op">)</span></code></pre></div>
<p><img src="H_worked_example06_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>Similarly, the mainpop_data list contains benchmark output values which can be viewed with the help of the get_mainpop_data and plot_mainpop_data functions as shown below and as described in <a href="https://keithjf82.github.io/vectorpower/articles/D_worked_example02.html">Worked Example 2</a>. These can also potentially be used as inputs for generating clusters.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data_view2</span><span class="op">=</span><span class="fu"><a href="../reference/get_mainpop_data.html">get_mainpop_data</a></span><span class="op">(</span>input_list<span class="op">=</span><span class="va">mainpop_data</span>,benchmark<span class="op">=</span><span class="st">"EIR"</span>,set_n_mv<span class="op">=</span><span class="va">mainpop_data</span><span class="op">$</span><span class="va">n_mv_set</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_mainpop_data.html">plot_mainpop_data</a></span><span class="op">(</span><span class="va">data_view2</span><span class="op">)</span></code></pre></div>
<p><img src="H_worked_example06_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>Power is computed using the power_compute() function. The majority of the parameters are the same ones used for the crt_combined() function, as described in <a href="https://keithjf82.github.io/vectorpower/articles/G_worked_example05.html">Worked Example 5</a>. The additional inputs shown at the top of the code section below are the parameters controlling the power calculation. The power_compute() function can be used for superiority, equivalence and non-inferiority tests(Link) by changing the trial_type parameter.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Set up power calculation inputs</span>
<span class="va">trial_type</span><span class="op">=</span><span class="st">"sup"</span>          <span class="co"># Trial type (superiority, equivalence, non-inferiority - "sup", "eq", "ni")</span>
<span class="va">effect_size_sign</span><span class="op">=</span><span class="st">"Positive"</span> <span class="co"># Sign of effect to check for ("Positive" or "Negative")</span>
<span class="va">alpha</span><span class="op">=</span><span class="fl">0.05</span>                <span class="co"># Significance level</span>
<span class="va">delta_eq</span><span class="op">=</span><span class="cn">NULL</span>             <span class="co"># Delta for equivalence trials (only used if trial_type="eq")</span>
<span class="va">delta_ni</span><span class="op">=</span><span class="cn">NULL</span>             <span class="co"># Delta for non-inferiority trials (only used if trial_type="ni")</span>
<span class="va">n_sims</span><span class="op">=</span><span class="fl">100</span>                <span class="co"># Number of iterations</span>

<span class="co"># Set up inputs for cohort modelling</span>
<span class="va">test_time_values</span><span class="op">=</span><span class="fl">10.0</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="co"># Time points at which testing takes place</span>
<span class="va">n_clusters</span><span class="op">=</span><span class="fl">10</span>              <span class="co"># Number of clusters to generate</span>
<span class="va">n_patients</span><span class="op">=</span><span class="fl">100</span>             <span class="co"># Number of patients per cluster</span>
<span class="va">data_level</span><span class="op">=</span><span class="st">"Individual"</span>   <span class="co"># Data type to output from model and use for power calculation ("Cluster" or "Individual")</span>
<span class="va">benchmark</span><span class="op">=</span><span class="st">"EIR_annual"</span>    <span class="co"># Main population data parameter to use as benchmark for generating clusters</span>
<span class="va">age_start</span><span class="op">=</span><span class="fl">0.5</span>             <span class="co"># Minimum age of cohort patients</span>
<span class="va">age_end</span><span class="op">=</span><span class="fl">10.0</span>              <span class="co"># Maximum age of cohort patients</span>
<span class="va">test_type</span><span class="op">=</span><span class="st">"RDT"</span>           <span class="co"># Type of test administered to  patients ("clin" = clinical, "RDT" = rapid diagnostic test)</span>
<span class="va">flag_pre_clearing</span><span class="op">=</span><span class="fl">1</span>       <span class="co"># Integer indicating whether patients given pre-trial prophylaxis (if 1, place all patients                               into prophylaxis category at start)</span>
<span class="va">censor_period</span><span class="op">=</span><span class="fl">0.0</span>         <span class="co"># Time period after a positive test during which a patient is not counted towards incidence</span>
<span class="va">flag_reactive_treatment</span><span class="op">=</span><span class="fl">0</span> <span class="co"># Integer indicating whether patients are automatically given prophylaxis after a positive                                test (shifting them into treatment category if a clinical case, prophylaxis category                                    otherwise)</span>
<span class="va">prop_T_c</span> <span class="op">=</span> <span class="fl">0.9</span>            <span class="co"># Proportion of clinical cases receiving treatment independent of trial-related testing</span>
<span class="va">benchmark_mean</span><span class="op">=</span><span class="fl">75.0</span>      <span class="co"># Mean value of benchmark to use to create distribution</span>
<span class="va">benchmark_stdev</span><span class="op">=</span><span class="fl">5.0</span>     <span class="co"># Standard deviation of benchmark to use to create distribution</span>
<span class="va">int_mean</span><span class="op">=</span><span class="fl">0.1</span>              <span class="co"># Mean value of intervention parameter (ATSB mortality rate) in intervention clusters</span>
<span class="va">int_stdev</span><span class="op">=</span><span class="fl">0.0</span>             <span class="co"># Standard deviation of intervention parameter in intervention clusters</span></code></pre></div>
<p>The power_compute() function uses the crt_combined to run n_sims.n_clusters control clusters (all drawn from the control cluster parameter distribution given by benchmark_mean and benchmark_stdev, with the intervention parameter equal to zero) and n_sims.n_clusters intervention clusters (generated using benchmark_mean, benchmark_stdev, int_mean and int_stdev).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Run power calculation</span>
<span class="va">results</span><span class="op">&lt;-</span>
<span class="fu"><a href="../reference/power_compute.html">power_compute</a></span><span class="op">(</span>mainpop_data<span class="op">=</span><span class="va">mainpop_data</span>,n_clusters<span class="op">=</span><span class="va">n_clusters</span>,n_patients<span class="op">=</span><span class="va">n_patients</span>,data_level<span class="op">=</span><span class="va">data_level</span>,alpha<span class="op">=</span><span class="va">alpha</span>,
              effect_size_sign<span class="op">=</span><span class="va">effect_size_sign</span>,trial_type<span class="op">=</span><span class="va">trial_type</span>,delta_eq<span class="op">=</span><span class="va">delta_eq</span>,delta_ni<span class="op">=</span><span class="va">delta_ni</span>,n_sims<span class="op">=</span><span class="va">n_sims</span>,
              benchmark<span class="op">=</span><span class="va">benchmark</span>,age_start<span class="op">=</span><span class="va">age_start</span>,age_end<span class="op">=</span><span class="va">age_end</span>,test_time_values<span class="op">=</span><span class="va">test_time_values</span>,
              test_type<span class="op">=</span><span class="va">test_type</span>,flag_pre_clearing<span class="op">=</span><span class="va">flag_pre_clearing</span>,censor_period<span class="op">=</span><span class="va">censor_period</span>,
              flag_reactive_treatment<span class="op">=</span><span class="va">flag_reactive_treatment</span>,prop_T_c<span class="op">=</span><span class="va">prop_T_c</span>,
              benchmark_mean<span class="op">=</span><span class="va">benchmark_mean</span>,benchmark_stdev<span class="op">=</span><span class="va">benchmark_stdev</span>,int_mean<span class="op">=</span><span class="va">int_mean</span>,int_stdev<span class="op">=</span><span class="va">int_stdev</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulating control clusters</span>
<span class="co">#&gt; Simulating intervention clusters</span>
<span class="co">#&gt; Outputting control and intervention cluster data (individual level)</span>
<span class="co">#&gt; Calculating power</span>
<span class="co">#&gt;  Power = 1</span></code></pre></div>
<p>In the case of the example used here, power_compute() returns a power value very close to 1 because the intervention parameter (ATSB mortality rate) has the same relatively high value in all intervention clusters and there is relatively little spread in the benchmark parameter between clusters, meaning that the vast majority of simulated intervention clusters show a drop in incidence of positive test cases relative to control clusters.</p>
<p>The output of power_compute() contains information on the clusters it generated for the purposes of the power calculation, which can be viewed as shown below for the control clusters:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">cluster_list_con</span><span class="op">$</span><span class="va">CP_B</span>,<span class="va">results</span><span class="op">$</span><span class="va">cluster_list_con</span><span class="op">$</span><span class="va">B</span>,type<span class="op">=</span><span class="st">"p"</span>,pch<span class="op">=</span><span class="fl">1</span>,col<span class="op">=</span><span class="fl">3</span>,
        xlab<span class="op">=</span><span class="st">"Cumulative probability"</span>,ylab<span class="op">=</span><span class="va">benchmark</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">cluster_list_con</span><span class="op">$</span><span class="va">CP_I</span>,<span class="va">results</span><span class="op">$</span><span class="va">cluster_list_con</span><span class="op">$</span><span class="va">I</span>,type<span class="op">=</span><span class="st">"p"</span>,pch<span class="op">=</span><span class="fl">1</span>,col<span class="op">=</span><span class="fl">3</span>,
        xlab<span class="op">=</span><span class="st">"Cumulative probability"</span>,ylab<span class="op">=</span><span class="st">"Intervention parameter"</span><span class="op">)</span></code></pre></div>
<p><img src="H_worked_example06_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Similarly for the intervention clusters:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">cluster_list_int</span><span class="op">$</span><span class="va">CP_B</span>,<span class="va">results</span><span class="op">$</span><span class="va">cluster_list_int</span><span class="op">$</span><span class="va">B</span>,type<span class="op">=</span><span class="st">"p"</span>,pch<span class="op">=</span><span class="fl">1</span>,col<span class="op">=</span><span class="fl">3</span>,
        xlab<span class="op">=</span><span class="st">"Cumulative probability"</span>,ylab<span class="op">=</span><span class="va">benchmark</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">cluster_list_int</span><span class="op">$</span><span class="va">CP_I</span>,<span class="va">results</span><span class="op">$</span><span class="va">cluster_list_int</span><span class="op">$</span><span class="va">I</span>,type<span class="op">=</span><span class="st">"p"</span>,pch<span class="op">=</span><span class="fl">1</span>,col<span class="op">=</span><span class="fl">3</span>,
        xlab<span class="op">=</span><span class="st">"Cumulative probability"</span>,ylab<span class="op">=</span><span class="st">"Intervention parameter"</span><span class="op">)</span></code></pre></div>
<p><img src="H_worked_example06_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Likewise, the output of the cohort modelling across all clusters can be viewed using plot_cohort_data() as shown below:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">control_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_cohort_data.html">plot_cohort_data</a></span><span class="op">(</span>cohort_data <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">cohort_data_con</span>,benchmark <span class="op">=</span> <span class="st">"test_inc"</span>,flag_output<span class="op">=</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="H_worked_example06_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">int_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_cohort_data.html">plot_cohort_data</a></span><span class="op">(</span>cohort_data <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">cohort_data_int</span>,benchmark <span class="op">=</span> <span class="st">"test_inc"</span>,flag_output<span class="op">=</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="H_worked_example06_files/figure-html/unnamed-chunk-9-2.png" width="700"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span><span class="va">test_time_values</span>,<span class="va">control_plot</span>,type<span class="op">=</span><span class="st">"b"</span>,pch<span class="op">=</span><span class="fl">1</span>,lty<span class="op">=</span><span class="fl">1</span>,col<span class="op">=</span><span class="fl">1</span>,xlab<span class="op">=</span><span class="st">"time (days)"</span>,ylab<span class="op">=</span><span class="st">"Average test incidence"</span>
        ,ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">control_plot</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html">matplot</a></span><span class="op">(</span><span class="va">test_time_values</span>,<span class="va">int_plot</span>,type<span class="op">=</span><span class="st">"b"</span>,pch<span class="op">=</span><span class="fl">2</span>,lty<span class="op">=</span><span class="fl">1</span>,col<span class="op">=</span><span class="fl">2</span>,add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"topleft"</span>, inset<span class="op">=</span><span class="fl">0.01</span>, legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Control"</span>,<span class="st">"Intervention"</span><span class="op">)</span>, pch<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>,
       horiz<span class="op">=</span><span class="cn">FALSE</span>,bg<span class="op">=</span><span class="st">'white'</span>,cex<span class="op">=</span><span class="fl">1.0</span><span class="op">)</span></code></pre></div>
<p><img src="H_worked_example06_files/figure-html/unnamed-chunk-9-3.png" width="700"></p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Keith Fraser.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
